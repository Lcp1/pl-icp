## pl-icp 开发记录

### TODO
+ [BUG]带有图优化版运行时会在程序终止时意外结束
+ [BUG]图优化线程的并行处理（gsl矩阵运算存在作用域，无法多线程同时执行一个函数）
+ 多线程图优化后的位姿更新问题


### 08.26


### 08.24
- 动态确定图优化的窗口
- 上机测试


### 08.23
- 为所有边都添加了信息矩阵的权重计算，相邻点的边只依据迭代次数，非相邻点的边依据迭代次数和相对位姿变换
- 图优化前新增额外边时，调整了考虑潜在边的算法，使额外边的数量根据点数自适应调整


### 08.22
- 为图优化建立了一个线程，但只能以阻塞模式运行，不可用并行关系，因为整套系统内的矩阵运算基于gsl，无法同时进行同一个子程序。
- [BUG FIXED]解决了某两帧间算出的位姿有突然大跳动的问题，问题在于匹配效果太差，超过了迭代次数阈值而没有过滤此帧


### 08.21
- 带图优化版的代码移植至机器人上完成
- [BUG FIXED]解决了跑起来的坐标系变换的bug（边的顶点顺序搞错了from/to）
- [BUG FIXED]解决了图优化后位姿不更新的bug，可持续运行不中断

### 08.17
- 添加了g2o至项目中，写了g2o优化函数
- 添加了全局位姿更新判断，距离小于1.5mm且角度小于0.05°视为在原地，不更新全局位姿
- 更新 laser_data 的结构
- 完成了阻塞模式的局部图优化，优化效率70ms以内
- [BUG FIXED]解决了free()结构体出错的Bug

### 08.16
- 8.15前版本放到github上，新建分支，准备做代码优化
- icp的参数改成从配置文件中读取

